package step3;
import java.util.*;

/* 정수 삼각형 (통과) */
public class P43105 {
    public int solution(int[][] triangle) throws Exception {
    	int tLen = triangle.length;
        
        if(tLen < 1 || tLen > 500)
        	throw new Exception("삼각형의 높이는 1 이상 500 이하입니다.");
        
        for(int i = 0; i < tLen; i++) {
        	for(int j = 0; j < triangle[i].length; j++) {
        		if(triangle[i][j] < 0 || triangle[i][j] > 9999)
        			throw new Exception("삼각형을 이루고 있는 숫자는 0 이상 9,999 이하의 정수입니다.");
        		
        		// triangle[0][0]인 경우
    			if(i == 0 && j == 0) break;
    			
    			// 삼각형의 맨 왼쪽 숫자인 경우
    			if(j == 0) {triangle[i][j] += triangle[i-1][j]; continue;}
    			
    			// 삼각형의 맨 오른쪽 숫자인 경우
    			if(j == i) {triangle[i][j] += triangle[i-1][j-1]; break;}
    			
    			// 삼각형의 중간 숫자인 경우
    			if(triangle[i-1][j] > triangle[i-1][j-1]) {triangle[i][j] += triangle[i-1][j];}
    			else 									  {triangle[i][j] += triangle[i-1][j-1];}
        	}
        }
        
        Arrays.sort(triangle[tLen-1]);
		return triangle[tLen-1][tLen-1];
    }
}